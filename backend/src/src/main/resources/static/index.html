<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Trang chủ| Hospital Management System</title>

    <!-- Include CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

    <style>
        body {
            margin: 0;
            padding: 0;
            width: 100%;
            overflow-x: hidden;
        }

        .my-bg-color {
            background-color: #4568dc;
        }

        .myP-color {
            color: #4568dc;
        }

        .my-card {
            box-shadow: 0px 0px 10px 1px maroon;
        }
    </style>
</head>
<body>

<!-- Navbar placeholder -->
<div id="navbar"></div>

<!-- Carousel -->
<div id="carouselExampleIndicators" class="carousel slide" data-bs-ride="carousel">
    <div class="carousel-indicators">
        <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="0" class="active"></button>
        <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="1"></button>
        <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="2"></button>
        <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="3"></button>
    </div>
    <div class="carousel-inner">
        <div class="carousel-item active">
            <img src="/img/hopital.jpg" class="d-block w-100" alt="Hopital" height="500px">
        </div>
        <div class="carousel-item">
            <img src="/img/hopital1.jpg" class="d-block w-100" alt="Hopital 1" height="500px">
        </div>
        <div class="carousel-item">
            <img src="/img/hopital2.jpg" class="d-block w-100" alt="Hopital 2" height="500px">
        </div>
        <div class="carousel-item">
            <img src="/img/hopital3.jpg" class="d-block w-100" alt="Hopital 3" height="500px">
        </div>
    </div>
    <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="prev">
        <span class="carousel-control-prev-icon"></span>
        <span class="visually-hidden">Previous</span>
    </button>
    <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="next">
        <span class="carousel-control-next-icon"></span>
        <span class="visually-hidden">Next</span>
    </button>
</div>

<!-- Features Section -->
<div class="container p-3">
    <p class="text-center mt-2 mb-5 fs-2 myP-color">Một số thông tin nổi bật của hệ thống bệnh viện</p>
    <div class="row">
        <div class="col-md-8 p-5">
            <div class="row">
                <div class="col-md-6">
                    <div class="card my-card">
                        <div class="card-body">
                            <p class="fs-5 myP-color">1000+ Chuyên viên y tế</p>
                            <p>Mạng lưới lớn nhất gồm các chuyên gia y tế hàng đầu với dịch vụ chăm sóc tận tình và chuyên môn vượt trội.</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="card my-card">
                        <div class="card-body">
                            <p class="fs-5 myP-color">Công nghệ chăm sóc sức khỏe tiên tiến nhất</p>
                            <p>Tiên phong trong công nghệ chăm sóc sức khỏe mang tính đột phá trong khu vực.</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-6 mt-2">
                    <div class="card my-card">
                        <div class="card-body">
                            <p class="fs-5 myP-color">Kết quả lâm sàng tốt nhất</p>
                            <p>Mang lại kết quả lâm sàng hàng đầu thông qua chuyên môn và công nghệ.</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-6 mt-2">
                    <div class="card my-card">
                        <div class="card-body">
                            <p class="fs-5 myP-color">50+ Nhà thuốc</p>
                            <p>Mạng lưới nhà thuốc quốc gia đáng tin cậy với hơn 50 cửa hàng.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-md-4 mt-2">
            <img class="mt-3" src="/img/doctor.jpg" alt="Doctor" height="440px" width="100%">
        </div>
    </div>
</div>

<hr>

<!-- Our Team Section -->
<div class="container p-2">
    <p class="text-center fs-2 myP-color">Đội ngũ bác sĩ</p>
    <div class="row">
        <div class="col-md-3">
            <div class="card my-card">
                <div class="card-body text-center">
                    <img src="/img/doctor1.jpg" alt="BS. Đoàn Trọng Nghĩa" height="300px" width="230px">
                    <p class="fw-bold fs-5">BS. Đoàn Trọng Nghĩa</p>
                    <p class="fs-7">(Trưởng khoa)</p>
                </div>
            </div>
        </div>
        <div class="col-md-3">
            <div class="card my-card">
                <div class="card-body text-center">
                    <img src="/img/doctor2.jpg" alt="BS. Nguyễn Hành Trang" height="300px" width="230px">
                    <p class="fw-bold fs-5">BS. Nguyễn Hành Trang</p>
                    <p class="fs-7">(Trưởng khoa)</p>
                </div>
            </div>
        </div>
        <div class="col-md-3">
            <div class="card my-card">
                <div class="card-body text-center">
                    <img src="/img/doctor3.jpg" alt="BS. Trịnh Thu Dung" height="300px" width="230px">
                    <p class="fw-bold fs-5">BS. Trịnh Thu Dung</p>
                    <p class="fs-7">(Trưởng khoa)</p>
                </div>
            </div>
        </div>
        <div class="col-md-3">
            <div class="card my-card">
                <div class="card-body text-center">
                    <img src="/img/doctor4.jpg" alt="BS. Hà Nhật Anh" height="300px" width="230px">
                    <p class="fw-bold fs-5">BS. Hà Nhật Anh</p>
                    <p class="fs-7">(Trưởng khoa)</p>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Footer placeholder -->
<div id="footer"></div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"></script>
<script>
    // Load navbar và sau đó xử lý user
    fetch('/component/navbar.html')
      .then(res => res.text())
      .then(data => {
        document.getElementById('navbar').innerHTML = data;

        // Sau khi navbar đã gắn vào DOM
        const navList = document.getElementById('nav-items');
        if (!navList) return;

        fetch('/api/user/current', {
          method: 'GET',
          credentials: 'include',
          headers: {
            'Accept': 'application/json'
          }
        })
          .then(response => {
            if (!response.ok) throw new Error('Not logged in');
            return response.json();
          })
          .then(data => {
            const user = data.data;
            navList.innerHTML = `
            <li class="nav-item"><a class="nav-link" href="view_doctor.html"><i class="fa fa-book fa-1x"></i> DANH SÁCH BÁC SĨ</a></li>
              <li class="nav-item"><a class="nav-link" href="user_appointment.html"><i class="fa fa-book fa-1x"></i> ĐẶT LỊCH</a></li>
              <li class="nav-item"><a class="nav-link" href="view_appointment.html"><i class="fa fa-calendar-check-o"></i> LỊCH SỬ ĐẶT LỊCH</a></li>
              <li class="nav-item dropdown">
                <button class="btn btn-outline-light dropdown-toggle" type="button" id="userMenu"
                  data-bs-toggle="dropdown" aria-expanded="false">
                  <i class="fa-solid fa-circle-user"></i> ${user.fullName || user.name || 'User'}
                </button>
                <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="userMenu">
                  <li><a class="dropdown-item" href="change-password.html">Đổi mật khẩu</a></li>
                  <li><a class="dropdown-item" href="#" onclick="logout()">Đăng xuất</a></li>
                </ul>
              </li>
            `;
          })
          .catch(error => {
            navList.innerHTML = `
              <li class="nav-item"><a class="nav-link" href="admin_login.html"><i class="fa-solid fa-right-to-bracket"></i> QUẢN TRỊ VIÊN</a></li>
              <li class="nav-item"><a class="nav-link" href="doctor_login.html"><i class="fas fa-sign-in-alt"></i> BÁC SĨ</a></li>
              <li class="nav-item"><a class="nav-link" href="user_login.html"><i class="fas fa-sign-in-alt"></i> NGƯỜI DÙNG</a></li>
            `;
          });
      });

    // Load footer bình thường
    fetch('/component/footer.html')
      .then(res => res.text())
      .then(data => document.getElementById('footer').innerHTML = data);

    function logout() {
      fetch('/api/user/logout', {
        method: 'POST',
        credentials: 'include'
      }).then(() => {
        window.location.href = 'index.html';
      });
    }
</script>

</body>
</html>
